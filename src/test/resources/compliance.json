[
   {
      "promql": "node_cpu_seconds_total > 10",
      "sql": "select a1.receivetime,a1.cpu,a1.mode,a1.node_cpu_seconds_total from (select a0.receivetime,a0.cpu,a0.mode,last(a0.node_cpu_seconds_total,a0.receivetime) node_cpu_seconds_total from linux_cpu_mode_info a0 where a0.receivetime=(select receivetime from linux_cpu_mode_info where receivetime>now() - interval '2 min' and receivetime<now() order by receivetime desc limit 1) group by a0.receivetime,a0.cpu,a0.mode order by a0.receivetime asc,a0.cpu asc,a0.mode asc) a1 where a1.node_cpu_seconds_total > (10)"
   },
   {
      "promql": "42",
      "sql": "select 42"
   },
   {
      "promql": "42",
      "sql": "select 42"
   },
   {
      "promql": "1.234",
      "sql": "select 1.234"
   },
   {
      "promql": ".123",
      "sql": "select 0.123"
   },
   {
      "promql": "1.23e-3",
      "sql": "select 1.23e-3"
   },
   {
      "promql": "0x3d",
      "sql": "select 61"
   },
   {
      "promql": "inf",
      "sql": "select 'inf'::numeric"
   },
   {
      "promql": "+inf",
      "sql": "select '+inf'::numeric"
   },
   {
      "promql": "-inf",
      "sql": "select '-inf'::numeric"
   },
   {
      "promql": "NaN",
      "sql": "select null::numeric"
   },
   {
      "promql": "sum(rate(node_cpu_seconds_total{object_id=\"6cce615e-8afa-4bde-a648-b4163a0ee957\"}[5m])) by (mode) * 100",
      "sql": "select a2.receivetime,a2.mode,(sum(a2.node_cpu_seconds_total))*(100) node_cpu_seconds_total from (select a1.receivetime,a1.cpu,a1.mode,safeDiv(a1.node_cpu_seconds_total-lag(a1.node_cpu_seconds_total) over (partition by a1.cpu,a1.mode order by a1.receivetime),extract(epoch from (a1.receivetime-lag(a1.receivetime) over (partition by a1.cpu,a1.mode order by a1.receivetime)))) node_cpu_seconds_total from (select a0.receivetime,a0.cpu,a0.mode,last(a0.node_cpu_seconds_total,a0.receivetime) node_cpu_seconds_total from linux_cpu_mode_info a0 where a0.receivetime between now() - interval '5 min' and now() and a0.object_id='6cce615e-8afa-4bde-a648-b4163a0ee957' group by a0.receivetime,a0.cpu,a0.mode order by a0.receivetime asc,a0.cpu asc,a0.mode asc) a1) a2 group by a2.receivetime,a2.mode"
   },
   {
      "promql": "count(node_cpu_seconds_total{object_id=\"6cce615e-8afa-4bde-a648-b4163a0ee957\"}) by (mode) ",
      "sql":                 "select a1.receivetime,a1.mode,count(a1.node_cpu_seconds_total) node_cpu_seconds_total from (select a0.receivetime,a0.cpu,a0.mode,last(a0.node_cpu_seconds_total,a0.receivetime) node_cpu_seconds_total from linux_cpu_mode_info a0 where a0.receivetime=(select receivetime from linux_cpu_mode_info where receivetime>now() - interval '2 min' and receivetime<now() and object_id='6cce615e-8afa-4bde-a648-b4163a0ee957' order by receivetime desc limit 1) and a0.object_id='6cce615e-8afa-4bde-a648-b4163a0ee957' group by a0.receivetime,a0.cpu,a0.mode order by a0.receivetime asc,a0.cpu asc,a0.mode asc) a1 group by a1.receivetime,a1.mode"
   }
   ,
   {
      "promql": "count_values by (mode) ('total_count', node_cpu_seconds_total)",
      "sql":                 "select a1.receivetime,a1.node_cpu_seconds_total total_count,a1.mode,count(1) node_cpu_seconds_total from (select a0.receivetime,a0.cpu,a0.mode,last(a0.node_cpu_seconds_total,a0.receivetime) node_cpu_seconds_total from linux_cpu_mode_info a0 where a0.receivetime=(select receivetime from linux_cpu_mode_info where receivetime>now() - interval '2 min' and receivetime<now() order by receivetime desc limit 1) group by a0.receivetime,a0.cpu,a0.mode order by a0.receivetime asc,a0.cpu asc,a0.mode asc) a1 group by a1.receivetime,a1.node_cpu_seconds_total,a1.mode"
   }
   ,
   {
      "promql": "last_over_time(node_cpu_seconds_total[1m])",
      "sql":                 "select a1.receivetime,a1.cpu,a1.mode,last(a1.node_cpu_seconds_total,a1.receivetime) node_cpu_seconds_total from (select a0.receivetime,a0.cpu,a0.mode,last(a0.node_cpu_seconds_total,a0.receivetime) node_cpu_seconds_total from linux_cpu_mode_info a0 where a0.receivetime between now() - interval '1 min' and now() group by a0.receivetime,a0.cpu,a0.mode order by a0.receivetime asc,a0.cpu asc,a0.mode asc) a1 group by a1.receivetime,a1.cpu,a1.mode"
   }
   ,
   {
      "promql": "sum(rate(node_cpu_seconds_total{object_id=\"6cce615e-8afa-4bde-a648-b4163a0ee957\"}[5m])) by (mode) * 100 / count(node_cpu_seconds_total{object_id=\"6cce615e-8afa-4bde-a648-b4163a0ee957\"}) by (mode) ",
      "sql":                 "select a5.receivetime,a5.mode,(a5.node_cpu_seconds_total)/(a6.node_cpu_seconds_total) node_cpu_seconds_total from (select a2.receivetime,a2.mode,(sum(a2.node_cpu_seconds_total))*(100) node_cpu_seconds_total from (select a1.receivetime,a1.cpu,a1.mode,safeDiv(a1.node_cpu_seconds_total-lag(a1.node_cpu_seconds_total) over (partition by a1.cpu,a1.mode order by a1.receivetime),extract(epoch from (a1.receivetime-lag(a1.receivetime) over (partition by a1.cpu,a1.mode order by a1.receivetime)))) node_cpu_seconds_total from (select a0.receivetime,a0.cpu,a0.mode,last(a0.node_cpu_seconds_total,a0.receivetime) node_cpu_seconds_total from linux_cpu_mode_info a0 where a0.receivetime between now() - interval '5 min' and now() and a0.object_id='6cce615e-8afa-4bde-a648-b4163a0ee957' group by a0.receivetime,a0.cpu,a0.mode order by a0.receivetime asc,a0.cpu asc,a0.mode asc) a1) a2 group by a2.receivetime,a2.mode) a5 INNER JOIN (select a4.receivetime,a4.mode,count(a4.node_cpu_seconds_total) node_cpu_seconds_total from (select a3.receivetime,a3.cpu,a3.mode,last(a3.node_cpu_seconds_total,a3.receivetime) node_cpu_seconds_total from linux_cpu_mode_info a3 where a3.receivetime=(select receivetime from linux_cpu_mode_info where receivetime>now() - interval '2 min' and receivetime<now() and object_id='6cce615e-8afa-4bde-a648-b4163a0ee957' order by receivetime desc limit 1) and a3.object_id='6cce615e-8afa-4bde-a648-b4163a0ee957' group by a3.receivetime,a3.cpu,a3.mode order by a3.receivetime asc,a3.cpu asc,a3.mode asc) a4 group by a4.receivetime,a4.mode) a6 on (a5.receivetime=a6.receivetime and a5.mode=a6.mode) "
   },
   {
      "promql": "container_cpu_usage_seconds_total offset 1y5m900ms",
      "sql":                 "select a0.receivetime,a0.namespace,a0.pod,last(a0.container_cpu_usage_seconds_total,a0.receivetime) container_cpu_usage_seconds_total from container_pod_cpu_info a0 where a0.receivetime=(select receivetime from container_pod_cpu_info where receivetime>now() - interval '1 year 5 min 900 millisecond' - interval '2 min' and receivetime<now() - interval '1 year 5 min 900 millisecond' order by receivetime desc limit 1) group by a0.receivetime,a0.namespace,a0.pod order by a0.receivetime asc,a0.namespace asc,a0.pod asc"
   },
   {
      "promql": "node_cpu_seconds_total @ 1609746000",
      "sql":                 "select a0.receivetime,a0.cpu,a0.mode,last(a0.node_cpu_seconds_total,a0.receivetime) node_cpu_seconds_total from linux_cpu_mode_info a0 where a0.receivetime=(select receivetime from linux_cpu_mode_info where receivetime>TO_TIMESTAMP(1609746000) - interval '2 min' and receivetime<TO_TIMESTAMP(1609746000) order by receivetime desc limit 1) group by a0.receivetime,a0.cpu,a0.mode order by a0.receivetime asc,a0.cpu asc,a0.mode asc"
   },
   {
      "promql": "clamp(node_load1{}, 0, 10)",
      "sql":                 "select a1.receivetime,clamp(a1.node_load1,0,10) node_load1 from (select a0.receivetime,last(a0.node_load1,a0.receivetime) node_load1 from linux_info a0 where a0.receivetime=(select receivetime from linux_info where receivetime>now() - interval '2 min' and receivetime<now() order by receivetime desc limit 1) group by a0.receivetime order by a0.receivetime asc) a1"
   },
   {
      "promql": "sin(rate(node_cpu_seconds_total[5m]))",
      "sql":                 "select a2.receivetime,a2.cpu,a2.mode,sin(a2.node_cpu_seconds_total) node_cpu_seconds_total from (select a1.receivetime,a1.cpu,a1.mode,safeDiv(a1.node_cpu_seconds_total-lag(a1.node_cpu_seconds_total) over (partition by a1.cpu,a1.mode order by a1.receivetime),extract(epoch from (a1.receivetime-lag(a1.receivetime) over (partition by a1.cpu,a1.mode order by a1.receivetime)))) node_cpu_seconds_total from (select a0.receivetime,a0.cpu,a0.mode,last(a0.node_cpu_seconds_total,a0.receivetime) node_cpu_seconds_total from linux_cpu_mode_info a0 where a0.receivetime between now() - interval '5 min' and now() group by a0.receivetime,a0.cpu,a0.mode order by a0.receivetime asc,a0.cpu asc,a0.mode asc) a1) a2"
   },
   {
      "promql": "day_of_month(timestamp(node_network_up{device=\"eth0\"}))",
      "sql":                 "select a2.device,extract (day from a2.receivetime) receivetime from (select a1.device,a1.receivetime from (select a0.receivetime,a0.device,last(a0.node_network_up,a0.receivetime) node_network_up from linux_device_info a0 where a0.receivetime=(select receivetime from linux_device_info where receivetime>now() - interval '2 min' and receivetime<now() and device='eth0' order by receivetime desc limit 1) and a0.device='eth0' group by a0.receivetime,a0.device order by a0.receivetime asc,a0.device asc) a1) a2"
   },
   {
      "promql": "container_cpu_usage_seconds_total offset 5m",
      "sql":                 "select a0.receivetime,a0.namespace,a0.pod,last(a0.container_cpu_usage_seconds_total,a0.receivetime) container_cpu_usage_seconds_total from container_pod_cpu_info a0 where a0.receivetime=(select receivetime from container_pod_cpu_info where receivetime>now() - interval '5 min' - interval '2 min' and receivetime<now() - interval '5 min' order by receivetime desc limit 1) group by a0.receivetime,a0.namespace,a0.pod order by a0.receivetime asc,a0.namespace asc,a0.pod asc"
   },
   {
      "promql": "container_cpu_usage_seconds_total[5m:1m]",
      "sql":                 "select time_bucket('1 min',a0.receivetime) receivetime,a0.namespace,a0.pod,last(a0.container_cpu_usage_seconds_total,a0.receivetime) container_cpu_usage_seconds_total from container_pod_cpu_info a0 where a0.receivetime between now() - interval '5 min' and now() group by time_bucket('1 min',a0.receivetime),a0.namespace,a0.pod order by time_bucket('1 min',a0.receivetime) asc,a0.namespace asc,a0.pod asc"
   },
   {
      "promql": "container_cpu_usage_seconds_total[5m:]",
      "sql":                 "select a0.receivetime,a0.namespace,a0.pod,last(a0.container_cpu_usage_seconds_total,a0.receivetime) container_cpu_usage_seconds_total from container_pod_cpu_info a0 where a0.receivetime between now() - interval '5 min' and now() group by a0.receivetime,a0.namespace,a0.pod order by a0.receivetime asc,a0.namespace asc,a0.pod asc"
   },
   {
      "promql": "container_cpu_usage_seconds_total[5m]",
      "sql":                 "select a0.receivetime,a0.namespace,a0.pod,last(a0.container_cpu_usage_seconds_total,a0.receivetime) container_cpu_usage_seconds_total from container_pod_cpu_info a0 where a0.receivetime between now() - interval '5 min' and now() group by a0.receivetime,a0.namespace,a0.pod order by a0.receivetime asc,a0.namespace asc,a0.pod asc"
   },
   {
      "promql": "container_cpu_usage_seconds_total",
      "sql":                 "select a0.receivetime,a0.namespace,a0.pod,last(a0.container_cpu_usage_seconds_total,a0.receivetime) container_cpu_usage_seconds_total from container_pod_cpu_info a0 where a0.receivetime=(select receivetime from container_pod_cpu_info where receivetime>now() - interval '2 min' and receivetime<now() order by receivetime desc limit 1) group by a0.receivetime,a0.namespace,a0.pod order by a0.receivetime asc,a0.namespace asc,a0.pod asc"
   },
   {
      "promql": "container_cpu_usage_seconds_total{}",
      "sql":                 "select a0.receivetime,a0.namespace,a0.pod,last(a0.container_cpu_usage_seconds_total,a0.receivetime) container_cpu_usage_seconds_total from container_pod_cpu_info a0 where a0.receivetime=(select receivetime from container_pod_cpu_info where receivetime>now() - interval '2 min' and receivetime<now() order by receivetime desc limit 1) group by a0.receivetime,a0.namespace,a0.pod order by a0.receivetime asc,a0.namespace asc,a0.pod asc"
   },
   {
      "promql": "container_cpu_usage_seconds_total{job='kubelet'}",
      "sql":                 "select a0.receivetime,a0.namespace,a0.pod,last(a0.container_cpu_usage_seconds_total,a0.receivetime) container_cpu_usage_seconds_total from container_pod_cpu_info a0 where a0.receivetime=(select receivetime from container_pod_cpu_info where receivetime>now() - interval '2 min' and receivetime<now() and job='kubelet' order by receivetime desc limit 1) and a0.job='kubelet' group by a0.receivetime,a0.namespace,a0.pod order by a0.receivetime asc,a0.namespace asc,a0.pod asc"
   },
   {
      "promql": "{__name__='container_cpu_usage_seconds_total'}",
      "sql":                 "select a0.receivetime,a0.namespace,a0.pod,last(a0.container_cpu_usage_seconds_total,a0.receivetime) container_cpu_usage_seconds_total from container_pod_cpu_info a0 where a0.receivetime=(select receivetime from container_pod_cpu_info where receivetime>now() - interval '2 min' and receivetime<now() order by receivetime desc limit 1) group by a0.receivetime,a0.namespace,a0.pod order by a0.receivetime asc,a0.namespace asc,a0.pod asc"
   }
]